---
title: "REP-006 — Exportación de reportes incorrecta"
labels: ["ticket", "junit", "mockito", "tempdir"]
---

**Descripción**  
Los reportes se exportan pero no se pueden abrir correctamente.

**Módulo afectado**
- `es.fplumara.dam1.workshoptesting.reporting`

**Comportamiento esperado**  
El fichero exportado debe:
- tener el nombre correcto
- existir físicamente
- contener exactamente el contenido generado

**Features obligatorias**  
**JUnit**
- `@TempDir`
- `assertDoesNotThrow`
- `assertTrue` (exists)
- `assertEquals` (contenido)

**Mockito**
- `@Mock Formatter`
- `when(formatter.formatReport(...)).thenReturn("...")`
- `verify(formatter).formatReport(...)`

**Tareas**
1. Escribe el test con `@TempDir` que demuestre el fallo (nombre/extensión).
2. Corrige la exportación.
3. Verifica contenido exacto.

**Criterios de cierre**
- Test con `@TempDir` + Mockito
- `mvn test` en verde