---
title: "ORD-009 — Orden incorrecto de operaciones"
labels: ["ticket", "mockito", "inorder"]
---

**Descripción**  
Se han enviado notificaciones aunque la operación principal haya fallado.

**Módulo afectado**
- `es.fplumara.dam1.workshoptesting.users`

**Comportamiento esperado**
- Primero se realiza la operación principal
- Solo después se notifica

**Features obligatorias (Mockito)**
- `InOrder`
- `inOrder.verify(repo).save(...)`
- `inOrder.verify(emailSender).sendWelcomeEmail(...)`

**Features obligatorias (JUnit)**
- `@Test`

**Tareas**
1. En el caso correcto, verifica el orden `save → sendWelcomeEmail`.
2. Si el orden no se cumple, el test debe fallar.

**Criterios de cierre**
- Test con `InOrder`
- `mvn test` en verde